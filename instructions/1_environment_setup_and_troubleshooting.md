
# üß™ Splunk Lab Environment Setup Guide

–¶–µ–π –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—É—î –ø—Ä–æ—Ü–µ—Å –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∏ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ –∑—ñ Splunk.

---

## üéØ –ú–µ—Ç–∞ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ—ó —Ä–æ–±–æ—Ç–∏

–ù–∞–≤—á–∏—Ç–∏—Å—å –Ω–∞–ª–∞—à—Ç–æ–≤—É–≤–∞—Ç–∏ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ –¥–ª—è –∑–±–æ—Ä—É —Ç–∞ –∞–Ω–∞–ª—ñ–∑—É –ª–æ–≥—ñ–≤ —ñ–∑ Linux-—Å–∏—Å—Ç–µ–º —É Splunk, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ Docker, Universal Forwarder —Ç–∞ –≤–ª–∞—Å–Ω—ñ SPL-–∑–∞–ø–∏—Ç–∏.

---

## üõ†Ô∏è –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏, —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è

| –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è |
|-----------|-------------|
| **Docker** | –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü—ñ—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ |
| **Docker Compose** | –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü—ñ—è –∑–∞–ø—É—Å–∫—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤ |
| **Splunk Enterprise** | –ó–±—ñ—Ä, –∞–Ω–∞–ª—ñ–∑ –ª–æ–≥—ñ–≤, –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è |
| **Splunk Universal Forwarder** | –ü–µ—Ä–µ–¥–∞—á–∞ –ª–æ–≥—ñ–≤ —ñ–∑ Linux –¥–æ Splunk |
| **Linux container** | –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –ª–æ–≥—ñ–≤ –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É |
| **SPL (Search Processing Language)** | –ó–∞–ø–∏—Ç–∏ –¥–ª—è –≤–∏—è–≤–ª–µ–Ω–Ω—è —ñ–Ω—Ü–∏–¥–µ–Ω—Ç—ñ–≤ |

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é

```
.
‚îú‚îÄ‚îÄ instructions/            # –ü–æ–∫—Ä–æ–∫–æ–≤—ñ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ—ó
‚îÇ   ‚îú‚îÄ‚îÄ1_upload_logs.md              # –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –∑ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ª–æ–≥—ñ–≤ —É Splunk
‚îÇ   ‚îú‚îÄ‚îÄ 2_use_cases_ua.md            # –î–µ—Ç–∞–ª—å–Ω–∏–π –æ–ø–∏—Å —é–∑-–∫–µ–π—Å—ñ–≤ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é
‚îÇ   ‚îú‚îÄ‚îÄ 3_alert_config.md            # –ü—Ä–∏–∫–ª–∞–¥ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∞–ª–µ—Ä—Ç—ñ–≤ —É Splunk
‚îÇ   ‚îú‚îÄ‚îÄ 5_universal_forwarder.md     # –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Splunk Universal Forwarder
‚îÇ   ‚îî‚îÄ‚îÄ use_cases_eng.md             # –î–µ—Ç–∞–ª—å–Ω–∏–π –æ–ø–∏—Å —é–∑-–∫–µ–π—Å—ñ–≤ –∞–Ω–≥–ª—ñ–π—Å—å–∫–æ—é
‚îÇ
‚îú‚îÄ‚îÄ log_samples/                  # –ü—Ä–∏–∫–ª–∞–¥–∏ –ª–æ–≥—ñ–≤ –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è use case-—ñ–≤
‚îÇ   ‚îú‚îÄ‚îÄ linux_sudo_nopasswd.json     # –õ–æ–≥–∏ sudo –∑ –æ–ø—Ü—ñ—î—é NOPASSWD
‚îÇ   ‚îú‚îÄ‚îÄ linux_tmp_exec.json          # –õ–æ–≥–∏ –∑–∞–ø—É—Å–∫—É –∑ –∫–∞—Ç–∞–ª–æ–≥—É /tmp
‚îÇ   ‚îú‚îÄ‚îÄ network_dns_duckdns.json     # DNS-–∑–∞–ø–∏—Ç–∏ –¥–æ *.duckdns.org
‚îÇ   ‚îú‚îÄ‚îÄ sysmon_bruteforce.json       # –ü–æ–¥—ñ—ó –Ω–µ–≤–¥–∞–ª–∏—Ö –ª–æ–≥—ñ–Ω—ñ–≤ Windows (ID 4625)
‚îÇ   ‚îú‚îÄ‚îÄ sysmon_powershell_base64.json# –ü—ñ–¥–æ–∑—Ä—ñ–ª—ñ PowerShell-–∫–æ–º–∞–Ω–¥–∏
‚îÇ
‚îú‚îÄ‚îÄ spl_queries/                 # SPL-–∑–∞–ø–∏—Ç–∏ –¥–ª—è –ø–æ—à—É–∫—É –∫–æ–∂–Ω–æ–≥–æ –∑ —é–∑-–∫–µ–π—Å—ñ–≤
‚îÇ   ‚îú‚îÄ‚îÄ linux_sudo_nopasswd.spl
‚îÇ   ‚îú‚îÄ‚îÄ linux_tmp_exec.spl
‚îÇ   ‚îú‚îÄ‚îÄ network_dns_duckdns.spl
‚îÇ   ‚îú‚îÄ‚îÄ suspicious_powershell.spl
‚îÇ   ‚îú‚îÄ‚îÄ sysmon_bruteforce.spl
‚îÇ  
‚îÇ
‚îú‚îÄ‚îÄ Dockerfile.uf-test           # Dockerfile –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –∑ Forwarder
‚îú‚îÄ‚îÄ docker-compose.yml           # –°—Ç–∞—Ä—Ç–æ–≤–∏–π —Ñ–∞–π–ª –¥–ª—è –∑–∞–ø—É—Å–∫—É Splunk —Ç–∞ Forwarder —á–µ—Ä–µ–∑ Docker
‚îú‚îÄ‚îÄ entrypoint.sh                # –°–∫—Ä–∏–ø—Ç —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó Splunk —ñ–∑ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º –ª–æ–≥—ñ–≤
‚îú‚îÄ‚îÄ README.md                    # –ó–∞–≥–∞–ª—å–Ω–∏–π –æ–ø–∏—Å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é —Ç–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ–π
‚îî‚îÄ‚îÄ Environment_Setup_and_Troubleshooting.md  # –û–ø–∏—Å –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è, —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ —Ç–∞ –≤–∏—Ä—ñ—à–µ–Ω–Ω—è —Ç–∏–ø–æ–≤–∏—Ö –ø—Ä–æ–±–ª–µ–º
```

---

## üß≠ –û—Å–Ω–æ–≤–Ω—ñ –∫—Ä–æ–∫–∏ —Ä–æ–±–æ—Ç–∏

1. –ö–ª–æ–Ω—É–≤–∞—Ç–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –∞–±–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ `.zip`
2. –ü—ñ–¥–Ω—è—Ç–∏ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ: `docker compose up`
3. –ü–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—å, —â–æ –ª–æ–≥—ñ–Ω —É Splunk –ø—Ä–∞—Ü—é—î (`localhost:8000`)
4. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –ª–æ–≥—ñ–≤ —ñ–∑ Universal Forwarder
5. –í–∏–∫–æ–Ω–∞—Ç–∏ SPL-–∑–∞–ø–∏—Ç–∏ –∑—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—è–º–∏ –∑ `usecases/`
6. –ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ PDF-–∑–≤—ñ—Ç –∑—ñ —Å–∫—Ä—ñ–Ω—à–æ—Ç–∞–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤

---

## üêß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è –û–°

### Windows
- –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å [Docker Desktop](https://www.docker.com/products/docker-desktop)
- –ê–∫—Ç–∏–≤—É–π—Ç–µ WSL2 –∞–±–æ Hyper-V
- –ó–∞–ø—É—Å–∫–∞–π—Ç–µ —Ç–µ—Ä–º—ñ–Ω–∞–ª —É —Ä–µ–∂–∏–º—ñ **Administrator**

### macOS
- –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å Docker Desktop (—á–µ—Ä–µ–∑ brew –∞–±–æ dmg)
- –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞: `docker info`

### Linux (Ubuntu)
```bash
sudo apt update && sudo apt install docker.io docker-compose -y
sudo usermod -aG docker $USER
newgrp docker
```

---

# üõ†Ô∏è Common Troubleshooting Guide

–¶–µ–π —Ä–æ–∑–¥—ñ–ª –º—ñ—Å—Ç–∏—Ç—å —Ç–∏–ø–æ–≤—ñ –ø—Ä–æ–±–ª–µ–º–∏ —Ç–∞ —ó—Ö –≤–∏—Ä—ñ—à–µ–Ω–Ω—è.

## Docker –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –∞–±–æ –Ω–µ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è
**–†—ñ—à–µ–Ω–Ω—è:** –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –∞–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å `docker info`

## `docker-compose` –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ
**–†—ñ—à–µ–Ω–Ω—è:** –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `docker compose` –±–µ–∑ –¥–µ—Ñ—ñ—Å–∞

## –ü–æ—Ä—Ç 8000 –≤–∂–µ –∑–∞–π–Ω—è—Ç–∏–π
**–†—ñ—à–µ–Ω–Ω—è:** –∑–º—ñ–Ω–∏—Ç–∏ –ø–æ—Ä—Ç —É `docker-compose.yml`

## Splunk UI –Ω–µ –≤—ñ–¥–∫—Ä–∏–≤–∞—î—Ç—å—Å—è
**–†—ñ—à–µ–Ω–Ω—è:** –ø–æ—á–µ–∫–∞—Ç–∏ –∫—ñ–ª—å–∫–∞ —Ö–≤–∏–ª–∏–Ω –ø—ñ—Å–ª—è –∑–∞–ø—É—Å–∫—É. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ `docker compose logs splunk`

## –ü–∞—Ä–æ–ª—å Splunk –Ω–µ–≤—ñ–¥–æ–º–∏–π
**–†—ñ—à–µ–Ω–Ω—è:** –ø–µ—Ä–µ–≤—ñ—Ä `SPLUNK_PASSWORD` —É `docker-compose.yml`

## Universal Forwarder –Ω–µ –ø–µ—Ä–µ–¥–∞—î –ª–æ–≥–∏
**–†—ñ—à–µ–Ω–Ω—è:**
- –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ—Å—Ç—å `forward-server` –≤ `entrypoint.sh`
- –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å `inputs.conf` –∞–±–æ –∫–æ–º–∞–Ω–¥ `add monitor`
- –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ `splunkd.log`

## –û—á–∏—Å—Ç–∏—Ç–∏ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ
```bash
docker compose down -v
```

---

üìå **–ü—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ—ó:**

üîñ –°—Ç—É–¥–µ–Ω—Ç –º–∞—î –Ω–∞–¥–∞—Ç–∏ **PDF-–∑–≤—ñ—Ç**, —â–æ –º—ñ—Å—Ç–∏—Ç—å:
- –°–∫—Ä—ñ–Ω–∏ –∑–∞–ø—É—â–µ–Ω–æ–≥–æ Splunk UI
- –°–∫—Ä—ñ–Ω–∏ –ø–æ—à—É–∫—É –ø–æ–¥—ñ–π —É Splunk
- –°–∫—Ä—ñ–Ω–∏ –ª–æ–≥—ñ–≤ —ñ–∑ Linux Forwarder
- –ö–æ–º–µ–Ω—Ç–∞—Ä—ñ –¥–æ –≤–∏—è–≤–ª–µ–Ω–∏—Ö –ø–æ–¥—ñ–π
